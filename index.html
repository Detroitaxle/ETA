<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shipping ETA</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <style>
        :root {
            --dark-bg: #121212;
            --card-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --accent-color: #ff8c00;
            --accent-dark: #cc7000;
            --border-color: #333;
            --success-color: #4caf50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--dark-bg);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo h1 {
            color: var(--accent-color);
            font-size: 2rem;
        }
        
        .detroit-info {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .time-weather {
            display: flex;
            gap: 30px;
        }
        
        .time, .weather {
            display: flex;
            flex-direction: column;
        }
        
        .time h2, .weather h2 {
            color: var(--accent-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .time-display {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .weather-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .temp {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .search-section {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .search-section h2 {
            color: var(--accent-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .search-container {
            max-width: 500px;
            margin: 0 auto 30px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: #2a2a2a;
            color: var(--text-color);
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }
        
        .search-input.valid {
            border-color: var(--success-color);
        }
        
        .search-btn {
            padding: 12px 25px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            width: 100%;
            margin-top: 10px;
        }
        
        .search-btn:hover {
            background-color: var(--accent-dark);
        }
        
        .results {
            display: none;
            margin-top: 30px;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-card {
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--accent-color);
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .state-info {
            display: flex;
            flex-direction: column;
        }
        
        .state-name {
            font-size: 1.5rem;
            color: var(--accent-color);
            margin-bottom: 5px;
        }
        
        .state-time {
            font-size: 1rem;
            color: #aaa;
        }
        
        .shipping-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .warehouse {
            background-color: #333;
            padding: 15px;
            border-radius: 6px;
            transition: transform 0.3s;
        }
        
        .warehouse:hover {
            transform: translateY(-3px);
        }
        
        .warehouse h3 {
            color: var(--accent-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .warehouse-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .shipping-time {
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .error-message {
            color: #ff6b6b;
            text-align: center;
            margin-top: 10px;
            display: none;
        }
        
        .loading {
            text-align: center;
            margin: 20px 0;
            display: none;
        }
        
        .loading-spinner {
            border: 3px solid #333;
            border-top: 3px solid var(--accent-color);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid var(--border-color);
            color: #888;
        }
        
        @media (max-width: 768px) {
            .detroit-info {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .time-weather {
                flex-direction: column;
                gap: 20px;
            }
            
            .shipping-info {
                grid-template-columns: 1fr;
            }
            
            .result-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <h1>Shipping ETA</h1>
            </div>
        </header>
        
        <section class="detroit-info">
            <div class="time-weather">
                <div class="time">
                    <h2>Detroit, MI Local Time</h2>
                    <div class="time-display" id="detroit-time">Loading...</div>
                </div>
                <div class="weather">
                    <h2>Current Weather</h2>
                    <div class="weather-info" id="detroit-weather">Loading...</div>
                </div>
            </div>
        </section>
        
        <section class="search-section">
            <h2>Search Shipping Times by Zip Code or State</h2>
            <div class="search-container">
                <input type="text" class="search-input" id="search-input" placeholder="Enter zip code or state abbreviation (e.g., 90210 or CA)">
                <button class="search-btn" id="search-btn">Search</button>
            </div>
            
            <div class="error-message" id="error-message">Please enter a valid zip code or state abbreviation.</div>
            
            <div class="loading" id="loading">
                <div class="loading-spinner"></div>
                <p>Searching...</p>
            </div>
            
            <div class="results" id="results">
                <!-- Results will be populated here -->
            </div>
        </section>
        
        <footer>
            <p>Shipping ETA &copy; 2023</p>
        </footer>
    </div>

    <script>
        // Update Detroit time
        function updateDetroitTime() {
            const detroitTimeElement = document.getElementById('detroit-time');
            const now = new Date();
            const detroitTime = now.toLocaleString("en-US", {
                timeZone: "America/Detroit",
                hour12: true,
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric'
            });
            detroitTimeElement.textContent = detroitTime;
        }
        
        // Update time every second
        setInterval(updateDetroitTime, 1000);
        updateDetroitTime();
        
        // Mock weather data (in a real app, you'd fetch from a weather API)
        document.getElementById('detroit-weather').innerHTML = `
            <span class="temp">72°F</span>
            <span>Partly Cloudy</span>
        `;
        
        // Search functionality
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const errorMessage = document.getElementById('error-message');
        const results = document.getElementById('results');
        const loading = document.getElementById('loading');
        
        let searchTimeout;
        
        // US States data with timezones
        const statesData = {
            'AL': { name: 'Alabama', timezone: 'America/Chicago' },
            'AK': { name: 'Alaska', timezone: 'America/Anchorage' },
            'AZ': { name: 'Arizona', timezone: 'America/Phoenix' },
            'AR': { name: 'Arkansas', timezone: 'America/Chicago' },
            'CA': { name: 'California', timezone: 'America/Los_Angeles' },
            'CO': { name: 'Colorado', timezone: 'America/Denver' },
            'CT': { name: 'Connecticut', timezone: 'America/New_York' },
            'DE': { name: 'Delaware', timezone: 'America/New_York' },
            'FL': { name: 'Florida', timezone: 'America/New_York' },
            'GA': { name: 'Georgia', timezone: 'America/New_York' },
            'HI': { name: 'Hawaii', timezone: 'Pacific/Honolulu' },
            'ID': { name: 'Idaho', timezone: 'America/Denver' },
            'IL': { name: 'Illinois', timezone: 'America/Chicago' },
            'IN': { name: 'Indiana', timezone: 'America/New_York' },
            'IA': { name: 'Iowa', timezone: 'America/Chicago' },
            'KS': { name: 'Kansas', timezone: 'America/Chicago' },
            'KY': { name: 'Kentucky', timezone: 'America/New_York' },
            'LA': { name: 'Louisiana', timezone: 'America/Chicago' },
            'ME': { name: 'Maine', timezone: 'America/New_York' },
            'MD': { name: 'Maryland', timezone: 'America/New_York' },
            'MA': { name: 'Massachusetts', timezone: 'America/New_York' },
            'MI': { name: 'Michigan', timezone: 'America/Detroit' },
            'MN': { name: 'Minnesota', timezone: 'America/Chicago' },
            'MS': { name: 'Mississippi', timezone: 'America/Chicago' },
            'MO': { name: 'Missouri', timezone: 'America/Chicago' },
            'MT': { name: 'Montana', timezone: 'America/Denver' },
            'NE': { name: 'Nebraska', timezone: 'America/Chicago' },
            'NV': { name: 'Nevada', timezone: 'America/Los_Angeles' },
            'NH': { name: 'New Hampshire', timezone: 'America/New_York' },
            'NJ': { name: 'New Jersey', timezone: 'America/New_York' },
            'NM': { name: 'New Mexico', timezone: 'America/Denver' },
            'NY': { name: 'New York', timezone: 'America/New_York' },
            'NC': { name: 'North Carolina', timezone: 'America/New_York' },
            'ND': { name: 'North Dakota', timezone: 'America/Chicago' },
            'OH': { name: 'Ohio', timezone: 'America/New_York' },
            'OK': { name: 'Oklahoma', timezone: 'America/Chicago' },
            'OR': { name: 'Oregon', timezone: 'America/Los_Angeles' },
            'PA': { name: 'Pennsylvania', timezone: 'America/New_York' },
            'RI': { name: 'Rhode Island', timezone: 'America/New_York' },
            'SC': { name: 'South Carolina', timezone: 'America/New_York' },
            'SD': { name: 'South Dakota', timezone: 'America/Chicago' },
            'TN': { name: 'Tennessee', timezone: 'America/Chicago' },
            'TX': { name: 'Texas', timezone: 'America/Chicago' },
            'UT': { name: 'Utah', timezone: 'America/Denver' },
            'VT': { name: 'Vermont', timezone: 'America/New_York' },
            'VA': { name: 'Virginia', timezone: 'America/New_York' },
            'WA': { name: 'Washington', timezone: 'America/Los_Angeles' },
            'WV': { name: 'West Virginia', timezone: 'America/New_York' },
            'WI': { name: 'Wisconsin', timezone: 'America/Chicago' },
            'WY': { name: 'Wyoming', timezone: 'America/Denver' }
        };
        
        // Function to validate input
        function isValidInput(input) {
            const zipRegex = /^\d{5}$/;
            const stateRegex = /^[A-Za-z]{2}$/;
            return zipRegex.test(input) || stateRegex.test(input);
        }
        
        // Function to get state info from input
        function getStateInfo(input) {
            // If input is a state abbreviation
            if (/^[A-Za-z]{2}$/.test(input)) {
                const stateAbbr = input.toUpperCase();
                return statesData[stateAbbr] || null;
            }
            
            // If input is a zip code, we need to map it to a state
            // For simplicity, we'll use a basic mapping based on zip code ranges
            // In a real application, you would use a proper zip code database
            const zip = parseInt(input);
            
            // Basic zip code to state mapping (simplified)
            const zipRanges = {
                'AL': [35000, 36999],
                'AK': [99500, 99999],
                'AZ': [85000, 86599],
                'AR': [71600, 72999],
                'CA': [90000, 96199],
                'CO': [80000, 81699],
                'CT': [6000, 6999],
                'DE': [19700, 19999],
                'FL': [32000, 34999],
                'GA': [30000, 31999],
                'HI': [96700, 96899],
                'ID': [83200, 83899],
                'IL': [60000, 62999],
                'IN': [46000, 47999],
                'IA': [50000, 52899],
                'KS': [66000, 67999],
                'KY': [40000, 42799],
                'LA': [70000, 71499],
                'ME': [3900, 4999],
                'MD': [20600, 21999],
                'MA': [1000, 2799],
                'MI': [48000, 49999],
                'MN': [55000, 56799],
                'MS': [38600, 39799],
                'MO': [63000, 65899],
                'MT': [59000, 59999],
                'NE': [68000, 69399],
                'NV': [88900, 89899],
                'NH': [3000, 3899],
                'NJ': [7000, 8999],
                'NM': [87000, 88499],
                'NY': [10000, 14999],
                'NC': [27000, 28999],
                'ND': [58000, 58899],
                'OH': [43000, 45999],
                'OK': [73000, 74999],
                'OR': [97000, 97999],
                'PA': [15000, 19699],
                'RI': [2800, 2999],
                'SC': [29000, 29999],
                'SD': [57000, 57799],
                'TN': [37000, 38599],
                'TX': [75000, 79999],
                'UT': [84000, 84799],
                'VT': [5000, 5999],
                'VA': [20100, 24699],
                'WA': [98000, 99499],
                'WV': [24700, 26899],
                'WI': [53000, 54999],
                'WY': [82000, 83199]
            };
            
            for (const [stateAbbr, range] of Object.entries(zipRanges)) {
                if (zip >= range[0] && zip <= range[1]) {
                    return statesData[stateAbbr];
                }
            }
            
            return null;
        }
        
        // Function to calculate shipping times based on state
        function calculateShippingTimes(stateAbbr) {
            // More realistic shipping time calculation based on actual FedEx Ground transit times
            
            // Detroit warehouse (48220) shipping times by state
            const detroitShippingTimes = {
                'AL': '3-4 business days',
                'AK': '7-10 business days',
                'AZ': '4-6 business days',
                'AR': '2-4 business days',
                'CA': '5-7 business days',
                'CO': '3-5 business days',
                'CT': '2-3 business days',
                'DE': '2-3 business days',
                'FL': '3-5 business days',
                'GA': '2-4 business days',
                'HI': '8-12 business days',
                'ID': '4-6 business days',
                'IL': '1-2 business days',
                'IN': '1-2 business days',
                'IA': '2-3 business days',
                'KS': '2-4 business days',
                'KY': '1-2 business days',
                'LA': '3-4 business days',
                'ME': '2-4 business days',
                'MD': '2-3 business days',
                'MA': '2-3 business days',
                'MI': '1-2 business days',
                'MN': '2-3 business days',
                'MS': '2-4 business days',
                'MO': '2-3 business days',
                'MT': '4-6 business days',
                'NE': '2-4 business days',
                'NV': '5-7 business days',
                'NH': '2-3 business days',
                'NJ': '2-3 business days',
                'NM': '4-6 business days',
                'NY': '2-3 business days',
                'NC': '2-4 business days',
                'ND': '3-5 business days',
                'OH': '1-2 business days',
                'OK': '3-4 business days',
                'OR': '5-7 business days',
                'PA': '2-3 business days',
                'RI': '2-3 business days',
                'SC': '2-4 business days',
                'SD': '3-5 business days',
                'TN': '2-3 business days',
                'TX': '3-5 business days',
                'UT': '4-6 business days',
                'VT': '2-4 business days',
                'VA': '2-3 business days',
                'WA': '5-7 business days',
                'WV': '2-3 business days',
                'WI': '1-3 business days',
                'WY': '4-6 business days'
            };
            
            // Texas warehouse (88008) shipping times by state
            const texasShippingTimes = {
                'AL': '2-4 business days',
                'AK': '8-11 business days',
                'AZ': '2-3 business days',
                'AR': '2-3 business days',
                'CA': '3-5 business days',
                'CO': '2-3 business days',
                'CT': '4-6 business days',
                'DE': '4-6 business days',
                'FL': '3-5 business days',
                'GA': '3-5 business days',
                'HI': '9-13 business days',
                'ID': '4-6 business days',
                'IL': '3-5 business days',
                'IN': '3-5 business days',
                'IA': '3-5 business days',
                'KS': '2-4 business days',
                'KY': '3-5 business days',
                'LA': '2-3 business days',
                'ME': '5-7 business days',
                'MD': '4-6 business days',
                'MA': '4-6 business days',
                'MI': '4-6 business days',
                'MN': '4-6 business days',
                'MS': '2-4 business days',
                'MO': '2-4 business days',
                'MT': '5-7 business days',
                'NE': '3-5 business days',
                'NV': '3-5 business days',
                'NH': '4-6 business days',
                'NJ': '4-6 business days',
                'NM': '1-2 business days',
                'NY': '4-6 business days',
                'NC': '4-6 business days',
                'ND': '5-7 business days',
                'OH': '3-5 business days',
                'OK': '2-3 business days',
                'OR': '4-6 business days',
                'PA': '4-6 business days',
                'RI': '4-6 business days',
                'SC': '4-6 business days',
                'SD': '5-7 business days',
                'TN': '3-5 business days',
                'TX': '1-3 business days',
                'UT': '3-5 business days',
                'VT': '4-6 business days',
                'VA': '4-6 business days',
                'WA': '4-6 business days',
                'WV': '4-6 business days',
                'WI': '4-6 business days',
                'WY': '4-6 business days'
            };
            
            return {
                DT: detroitShippingTimes[stateAbbr] || '3-6 business days',
                JZ: texasShippingTimes[stateAbbr] || '4-7 business days'
            };
        }
        
        // Function to perform search
        function performSearch(searchValue) {
            if (!isValidInput(searchValue)) {
                errorMessage.style.display = 'block';
                results.style.display = 'none';
                searchInput.classList.remove('valid');
                return;
            }
            
            errorMessage.style.display = 'none';
            searchInput.classList.add('valid');
            loading.style.display = 'block';
            results.style.display = 'none';
            
            // Simulate API call delay
            setTimeout(() => {
                const stateInfo = getStateInfo(searchValue);
                
                if (!stateInfo) {
                    // If we can't determine the state, show generic info
                    const now = new Date();
                    const stateTime = now.toLocaleString("en-US", {
                        timeZone: "America/New_York",
                        hour12: true,
                        hour: 'numeric',
                        minute: 'numeric',
                        timeZoneName: 'short'
                    });
                    
                    const resultsHTML = `
                        <div class="result-card">
                            <div class="result-header">
                                <div class="state-info">
                                    <div class="state-name">Selected Location</div>
                                    <div class="state-time">Local Time: ${stateTime}</div>
                                </div>
                            </div>
                            
                            <div class="shipping-info">
                                <div class="warehouse">
                                    <h3>Detroit Warehouse (DT)</h3>
                                    <div class="warehouse-info">
                                        <span>Zip: 48220</span>
                                        <span class="shipping-time">3-6 business days</span>
                                    </div>
                                    <div>Carrier: FedEx Ground</div>
                                </div>
                                
                                <div class="warehouse">
                                    <h3>Texas Warehouse (JZ)</h3>
                                    <div class="warehouse-info">
                                        <span>Zip: 88008</span>
                                        <span class="shipping-time">4-7 business days</span>
                                    </div>
                                    <div>Carrier: FedEx Ground</div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    results.innerHTML = resultsHTML;
                    loading.style.display = 'none';
                    results.style.display = 'block';
                    return;
                }
                
                // Get state abbreviation from state name
                const stateAbbr = Object.keys(statesData).find(abbr => 
                    statesData[abbr].name === stateInfo.name
                );
                
                // Calculate shipping times
                const shippingTimes = calculateShippingTimes(stateAbbr);
                
                // Update the state time
                const now = new Date();
                const stateTime = now.toLocaleString("en-US", {
                    timeZone: stateInfo.timezone,
                    hour12: true,
                    hour: 'numeric',
                    minute: 'numeric',
                    timeZoneName: 'short'
                });
                
                // Create results HTML
                const resultsHTML = `
                    <div class="result-card">
                        <div class="result-header">
                            <div class="state-info">
                                <div class="state-name">${stateInfo.name}</div>
                                <div class="state-time">Local Time: ${stateTime}</div>
                            </div>
                        </div>
                        
                        <div class="shipping-info">
                            <div class="warehouse">
                                <h3>Detroit Warehouse (DT)</h3>
                                <div class="warehouse-info">
                                    <span>Zip: 48220</span>
                                    <span class="shipping-time">${shippingTimes.DT}</span>
                                </div>
                                <div>Carrier: FedEx Ground</div>
                            </div>
                            
                            <div class="warehouse">
                                <h3>Texas Warehouse (JZ)</h3>
                                <div class="warehouse-info">
                                    <span>Zip: 88008</span>
                                    <span class="shipping-time">${shippingTimes.JZ}</span>
                                </div>
                                <div>Carrier: FedEx Ground</div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Update the results
                results.innerHTML = resultsHTML;
                loading.style.display = 'none';
                results.style.display = 'block';
            }, 800); // Simulated API delay
        }
        
        // Event listener for input changes (automatic search)
        searchInput.addEventListener('input', function() {
            const searchValue = this.value.trim();
            
            // Clear previous timeout
            clearTimeout(searchTimeout);
            
            // If input is empty, hide results and error
            if (searchValue === '') {
                errorMessage.style.display = 'none';
                results.style.display = 'none';
                searchInput.classList.remove('valid');
                return;
            }
            
            // Set a timeout to perform search after user stops typing
            searchTimeout = setTimeout(() => {
                performSearch(searchValue);
            }, 500); // Wait 500ms after user stops typing
        });
        
        // Event listener for search button
        searchBtn.addEventListener('click', function() {
            const searchValue = searchInput.value.trim();
            if (searchValue) {
                performSearch(searchValue);
            }
        });
        
        // Event listener for Enter key
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const searchValue = this.value.trim();
                if (searchValue) {
                    performSearch(searchValue);
                }
            }
        });
        
        // Add some sample data for demonstration
        window.addEventListener('load', function() {
            // Show a sample result on page load
            setTimeout(() => {
                searchInput.value = 'VT';
                performSearch('VT');
            }, 1000);
        });
    </script>
</body>
</html>
